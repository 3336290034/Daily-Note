# 焦虑就是赤石

## C语言头文件三要素是什么？有什么作用？

- 防止重复包含的预处理指令：

  ```c
  #ifndef __HEADER_H__
  #define __HEADER_H__
  #endif
  也可以使用#pragma once来防止重复包含（用来替代也可以，作用相同）
  可以防止该头文件被重复多次包含，若不做处理会导致变量、函数或类型的重复定义，引发编译错误
  ```

- 函数、变量和外部符号的声明：
  - 这样确保不会出现未声明的错误

- 宏定义和类型定义
  - 实现代码复用和一致性

## 你刚刚提到的重定义错误是发生在程序编译的哪个阶段？

- 可能发生在编译阶段或者链接阶段，具体取决于重定义的位置和范围

- 当同一个.c文件中出现相同的标识符定义时，编译器在编译该单元时会检测到重复定义，触发重定义的错误：redefinition of "xxx"
- 当在不同.c文件中出现完全相同的全局标识符定义时，会在链接阶段时报错，触发重定义的错误：multiple definition of "xxx"

## 那这样的错误你觉得怎样去避免？

- 避免编译阶段报错：
  - 严格限制头文件的内容：不定义、只声明
  - 强制使用Include Guard
  - 同一文件内避免同名标识符
- 避免链接阶段报错：
  - 全局标识符只能在一个.c文件中定义，其他文件只能声明
  - 静态标识符（static）的作用域仅限于定义它的文件，不会影响其他文件

## 你了解DMA的映射关系吗？就是数据源和数据目的地之间的？（感觉这个问题很水啊？！）

- 在DMA（直接内存访问）传输中，数据源（Source）和数据目的（Destination）之间的映射关系本质是地址与传输路径的对应关系，由DMA控制器通过配置寄存器来建立和管理，这样的映射关系决定了数据从哪来到哪去以及如何传输的

## 你RTOS是怎么确保（任务之间的）同步的？

- 豆书记有话说：<https://www.doubao.com/thread/wa3b24f27f2b53e83>

## 信号量和互斥量有什么区别？

- 豆书记有话说：<https://www.doubao.com/thread/w6e17c3d87a4dacc2>

## 你觉得你的项目和MCU有什么关系？

- 豆书记有话说：<https://www.doubao.com/thread/wd49afb8c7fb2dd0e>
