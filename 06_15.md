# 今天学习的知识点

1，什么是标识符、修饰符、关键字、预定义标识符？四者有什么区别？

2，变量的本质是什么？

- 变量名其实就是一段内存空间的别名，变量名是对这段内存空间的引用[编译器在编译程序是会将变量名看成一个符号，符号值就是变量的地址]；
  - C语言中，一块[可以存储数据的内存区域]，一般称为[对象Object]，而[操作这片内存的表达式]，即引用对象的表达式，我们称为[左值]；
  - 右值是指一个表达式的值，通常是一个常量或一个变量的值，它不具有地址；
- 不同类型的变量有不同的[存储方式、作用域、生命周期、访问方式]等特性，定义变量时可以使用修饰符来改变变量的存储方式，[注意是存储方式]；
  - 修饰符主要有：const、volatile、extern、static、register、auto、typedef、等；

3，静态内存和动态内存

4，数组指针、指针数组、函数指针、指针函数一锅端了，艹！

- 指针的关系运算

5，C语言下标运算符[]的秘密：C语言对下标运算符的访问，是通过转化为指针来实现的 --> E1[E2] == *(E1+E2)

- 就有下面这些奇葩的写法：

  ```c
  int a[5] = {1, 2, 3, 4, 5};
  int *p = a;

  - printf("%d\n", p[0]);
  - printf("%d\n", 0[p]);
  - printf("%d\n", p+2[-2]);
  - printf("%d\n", 0[p+2]);
  - printf("%d\n", -1[p+2]);
  ```

6，ARM汇编语言分析――――PC和LR && “前三行序言”，示例：

```Asm
10494:   e92d4800    push    {fp, lr}       ; 保存帧指针和返回地址
10498:   e28db004    add     fp, sp, #4     ; 设置帧指针
1049c:   e24dd008    sub     sp, sp, #8     ; 分配栈空间
```

执行 push    {fp, lr} 时：
  push 操作使 SP = SP - 8（ARM 中 push [自动调整SP]）
  此时 SP 已指向新的栈顶（比调用者的 SP 低 [8] 字节）

- FP：帧(?栈底)指针  SP：栈(顶)指针
- LR寄存器与函数返回地址：[函数返回地址是指调用函数后应返回执行的下一条指令地址]，以 main 调用 array_print 为例：

```Asm
104b0:   ebffffda    bl      10420 <array_print> ; 调用array_print
104b4:   e3a03000    mov     r3, #0         ; 返回后执行的指令
```

执行 bl 10420 时：
  LR 被自动设置为 0x104b4（即 bl 指令的下一条指令地址）
  PC 跳转到 0x10420（array_print 的入口）
array_print 返回时:

```Asm
  1048c:   e8bd8800    pop     {fp, pc}       ; 从栈恢复PC=LR=0x104b4
```

  pop {fp, pc} 将栈中保存的 LR 值（0x104b4）弹出到 PC
  程序跳回 main 函数的 104b4 继续执行

## 遇到的问题

1，下面的代码段哪里不对？

```c
char a = 17;
char *b = &a;
b = &a + 4;
*b = 10;

int main(void)
{
    char *p = &a;
    printf("a = %d\n", a);
    printf("a` = %d\n", *((int *)&a));

    return 0;
}
- 原因：在全局作用域中（函数外部），不能进行赋值操作。b = &a 和 *b =10` 这两行代码是赋值语句，它们不能直接出现在函数外部。全局变量只能在声明时初始化。
```

2，代码逻辑分析，注意自增自减和引用的先后顺序！

```c
int main(void)
{
    char a[20], tmp;
    printf("Input string:   ");
    fgets(a, sizeof(a), stdin);
    // gets(a);

    char *head, *tail;
    head = tail = a;
    tail += strlen(a) - 1;

    while(head < tail)
    {
        tmp = *head;
        *head++ = *tail;
        *tail-- = tmp;
    }
    puts(a);
    return 0;
}
```

3，NULL、空指针、void* 三者有什么区别？有什么联系？
