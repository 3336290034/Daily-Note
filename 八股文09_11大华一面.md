# 准备星宸AE二面&&大华一面

## 栈帧里面都保存有哪些信息？

## Linux系统常见的指令和作用？

## 你在代码调试和开发过程中是怎样进行的？

## FreeRTOS的调度过程

- 总的来看，有三种：抢占式、时间片、协作式
- 先说一下啊协作式啊，这个目前使用的频率是很低的，作为工程师的话，我们了解一下，为日后提供思路和方向我觉得就ok了，它的调度逻辑是：
- 剩下两个就是 抢占式和时间片，其实这俩不是`完全的并列关系`，而更像是`包含和被包含关系`的：时间片调度是抢占式调度中处理`同优先级任务`的一种具体方式，而抢占式调度是`更宏观的调度策略`（涵盖不同优先级和同优先级任务的调度逻辑），而且有意思的是，开启时间片调度，必须同时开启抢占式调度的宏开关
- 来看看他们的调度逻辑：
  - 抢占式：xxx
  - 时间片：xxx（只有当存在同优先级的就绪任务时：时间片调度才会生效 ）
- 实际开发中，两者通常配合使用：通过抢占式调度保证高优先级任务的实时性

- 然后是任务的切换的核心逻辑：本质是暂停当前运行任务的执行状态，恢复另一个就绪任务的执行状态，这里三核心步骤：
- 保存任务上下文
  - 首先就是将当前运行的任务的上下文保存起来，确保后面恢复这个任务还可以继续运行
  - 这一步的触发时机是在 ISR 中实现的（比如SysTick中断），因为中断时“安全切换任务”唯一时机❓
  - 这一步在软硬件层面上体现就是有专用的CPU指令去支持和软件会更新当前任务控制块TCB的SP
- 选择下一个要运行的任务
  - 调度器Scheduler，会根据当前的调度策略从就绪列表找到下一个要运行的（根据优先级/就绪顺序）
  - 这里需要“双向链表这样的数据结构”去做支撑，支持这样的一个操作
- 恢复下一个任务的上下文
  - 硬件层面：同样在PendSV异常中完成
  - 软件层面：将下一个任务 TCB 中的栈指针（SP）加载到 CPU 的 SP 寄存器，确保栈指向正确位置，更新内核的 “当前任务指针”（pxCurrentTCB），标记新任务为 “运行态”

- 最后就是任务切换的触发时机了
- 抢占式触发：高优先级任务从 “阻塞态” 转为 “就绪态” 时（如vTaskDelay延时结束、信号量xSemaphoreGive释放）；中断服务程序（ISR）执行完毕后，检测到更高优先级任务就绪（FreeRTOS 在 ISR 退出前会调用调度器钩子函数）
- 时间片触发：这个就不说多了
- 任务主动放弃 CPU

## 说一个自己最擅长的通信协议

- 如果问你IIC
  - 从设备地址寻址的过程？
  - 多主设备是怎么实现的？
  - 总线仲裁是怎么去做的？

## 内存碎片怎么处理（系统是怎么处理内存碎片的？在实际的开发中，我们要怎么去避免内存碎片带来的问题？）

- 

## 什么情况下会用到函数指针，它和指针函数有什么区别吗？

## stm32外部中断的实现原理

## 中断上下文是什么？为什么会有上文和下文

## 物理地址和虚拟地址是什么？它们都有什么作用呢？

## 在进行内存映射时，分配的是用户空间还是内核空间

## 交叉编译工具链有哪些？

## CPU如何知道DMA有数据呢？有什么怎么从DMA哪里拿到数据的呢？

## 从函数接口的角度出发，带有const标识的变量是输入还是输出

## 你为什么投递我们公司，你对我们公司有哪些了解？（该从哪些方面去回答）

## 链表有哪些类型？优势都分别是什么？
